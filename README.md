# README

## injavis 可视化

打开 injavis 可视化界面:

```bash
java -Xmx4096m -jar injavis.jar
```

`.pos` 文件为 injavis 专用数据文件

### pos 文件格式

盒子可以用长宽高描述：

```text
box Lx Ly Lz
```

或者使用 3x3 的矩阵描述：

```text
boxMatrix Lx 0 0 0 Ly 0 0 0 Lz
```

每一帧内，可以描述粒子的形状、颜色、位置，如果有朝向的话，可以再末尾加上四元数表示朝向

```text
particleType color position_x position_y position_z (quaternion_1 quaternion_2 quaternion_3 quaternion_4)
```

一帧结尾为

```text
eof
```

> 重复上述过程，可以实现动画效果。

## 编译与使用

`nx, ny, nz`

在根目录下使用 `cmake` 编译

```bash
cmake -B build

cmake --build build
```

编译后的可执行文件为 `./build/main.out`

可以用 `-l` 指定 `lambda`，用 `-n` 指定 MC 模拟步数。例如

```bash
./build/main.out -l 10 -n 10000
```

可以使用脚本 `collect.sh` 连续多次模拟，模拟的 msd 结果保存在文件 `msd_data.txt` 中。

msd 结果可以使用 `hist.py` 求平均。

## G-L 积分

可以使用 `5p-GLI.py` 或 `10p-GLI.py` 对 msd 进行 G-L 积分。

### 5-point G-L

|       weight      |      abscissa     |
|:-----------------:|:-----------------:|
|0.2369268850561891 |-0.9061798459386640|
|0.4786286704993665 |-0.5384693101056831|
|0.5688888888888889 | 0.0000000000000000|
|0.4786286704993665 | 0.5384693101056831|
|0.2369268850561891 | 0.9061798459386640|

### 10-point G-L

|       weight      |      abscissa     |
|:-----------------:|:-----------------:|
|0.0666713443       |-0.9739065285      |
|0.1494513492       |-0.8650633667      |
|0.2190863625       |-0.6794095683      |
|0.2692667193       |-0.4333953941      |
|0.2955242247       |-0.1488743390      |
|0.2955242247       | 0.1488743390      |
|0.2692667193       | 0.4333953941      |
|0.2190863625       | 0.6794095683      |
|0.1494513492       | 0.8650633667      |
|0.0666713443       | 0.9739065285      |

## 其他

可以使用 `minimum_distance.py` 判断两粒子之间的最近距离。
